# appveyor file
# http://www.appveyor.com/docs/appveyor-yml

environment:
  matrix:
    - nodejs_version: 11.0.0

platform:
  - x64
  - Any CPU

build: off

install:
  # Get the latest stable version of Node.js or io.js
  - ps: Install-Product node $env:nodejs_version

  # Update node-gyp
  # 必須! node-gyp のバージョンを上げないと、ネイティブモジュールのコンパイルに失敗します
  - npm install -g node-gyp

  - npm install

init:
  # git clone の際の改行を変換しないようにします
  - git config --global core.autocrlf false

before_test:
  # 設定ファイルを配置
  - cp ./.travis/default.yml ./.config
  - cp ./.travis/test.yml ./.config

  - npm run build

test_script:
  - node --version
  - npm --version
  - npm test
